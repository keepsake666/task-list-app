import{r as n,a as M}from"./vendor-YsBxPMQB.js";import{P,C as W,a as q,T as K,b as J}from"./icons-BEnnn2ZT.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))c(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&c(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var $={exports:{}},g={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H=n,Y=Symbol.for("react.element"),G=Symbol.for("react.fragment"),Q=Object.prototype.hasOwnProperty,V=H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X={key:!0,ref:!0,__self:!0,__source:!0};function L(e,s,r){var c,a={},o=null,u=null;r!==void 0&&(o=""+r),s.key!==void 0&&(o=""+s.key),s.ref!==void 0&&(u=s.ref);for(c in s)Q.call(s,c)&&!X.hasOwnProperty(c)&&(a[c]=s[c]);if(e&&e.defaultProps)for(c in s=e.defaultProps,s)a[c]===void 0&&(a[c]=s[c]);return{$$typeof:Y,type:e,key:o,ref:u,props:a,_owner:V.current}}g.Fragment=G;g.jsx=L;g.jsxs=L;$.exports=g;var t=$.exports,O,w=M;O=w.createRoot,w.hydrateRoot;const Z="_header_nl8kk_1",ee="_fadeInDown_nl8kk_1",te="_title_nl8kk_7",se="_subtitle_nl8kk_19",ae="_stats_nl8kk_26",ne="_stat_nl8kk_26",oe="_statNumber_nl8kk_49",ce="_statLabel_nl8kk_56",_={header:Z,fadeInDown:ee,title:te,subtitle:se,stats:ae,stat:ne,statNumber:oe,statLabel:ce},B=n.memo(({activeCount:e,completedCount:s,totalCount:r})=>t.jsxs("header",{className:_.header,children:[t.jsx("h1",{className:_.title,children:"Список Задач"}),t.jsx("p",{className:_.subtitle,children:"Организуйте свои задачи стильно"}),t.jsxs("div",{className:_.stats,children:[t.jsxs("div",{className:_.stat,children:[t.jsx("span",{className:_.statNumber,children:r}),t.jsx("span",{className:_.statLabel,children:"Всего"})]}),t.jsxs("div",{className:_.stat,children:[t.jsx("span",{className:_.statNumber,children:e}),t.jsx("span",{className:_.statLabel,children:"Активных"})]}),t.jsxs("div",{className:_.stat,children:[t.jsx("span",{className:_.statNumber,children:s}),t.jsx("span",{className:_.statLabel,children:"Готово"})]})]})]}));B.displayName="Header";const ie="_form_n3zyw_1",le="_slideInUp_n3zyw_1",re="_inputRow_n3zyw_9",de="_inputWrapper_n3zyw_14",ue="_dateWrapper_n3zyw_19",me="_input_n3zyw_9",pe="_dateInput_n3zyw_47",_e="_dateLabel_n3zyw_67",fe="_button_n3zyw_78",j={form:ie,slideInUp:le,inputRow:re,inputWrapper:de,dateWrapper:ue,input:me,dateInput:pe,dateLabel:_e,button:fe},E=n.memo(({onAddTask:e})=>{const[s,r]=n.useState(""),[c,a]=n.useState(""),o=n.useCallback(f=>{f.preventDefault();const k=s.trim();if(k){const i=c?new Date(c):void 0;e(k,i),r(""),a("")}},[s,c,e]),u=n.useCallback(f=>{r(f.target.value)},[]),h=n.useCallback(f=>{a(f.target.value)},[]),y=new Date().toISOString().split("T")[0];return t.jsxs("form",{className:j.form,onSubmit:o,children:[t.jsxs("div",{className:j.inputRow,children:[t.jsx("div",{className:j.inputWrapper,children:t.jsx("input",{type:"text",value:s,onChange:u,placeholder:"Что нужно сделать?",className:j.input,maxLength:200})}),t.jsx("div",{className:j.dateWrapper,children:t.jsx("input",{type:"date",value:c,onChange:h,min:y,className:j.dateInput})})]}),t.jsxs("button",{type:"submit",disabled:!s.trim(),className:j.button,children:[t.jsx(P,{size:20}),"Добавить задачу"]})]})});E.displayName="TaskForm";const he="_filters_10u90_1",xe="_fadeIn_10u90_1",ke="_button_10u90_9",ye="_active_10u90_29",je="_clearButton_10u90_36",N={filters:he,fadeIn:xe,button:ke,active:ye,clearButton:je},be=[{key:"all",label:"Все"},{key:"active",label:"Активные"},{key:"completed",label:"Выполненные"}],R=n.memo(({currentFilter:e,onFilterChange:s,onClearCompleted:r,completedCount:c})=>t.jsxs("div",{className:N.filters,children:[be.map(({key:a,label:o})=>t.jsx("button",{onClick:()=>s(a),className:`${N.button} ${e===a?N.active:""}`,children:o},a)),t.jsx("button",{onClick:r,disabled:c===0,className:N.clearButton,children:"Очистить выполненные"})]}));R.displayName="FilterButtons";const Ne="_taskItem_1si8j_1",ge="_slideIn_1si8j_1",De="_completed_1si8j_40",ve="_editing_1si8j_50",Te="_checkbox_1si8j_55",Ce="_checkmark_1si8j_77",we="_taskContent_1si8j_90",Ie="_taskText_1si8j_95",Se="_taskMeta_1si8j_108",$e="_dueDate_1si8j_117",Le="_dueDateOverdue_1si8j_126",Oe="_dueDateToday_1si8j_132",Be="_dueDateUpcoming_1si8j_138",Ee="_input_1si8j_144",Re="_actions_1si8j_159",Ae="_actionButton_1si8j_170",Fe="_editButton_1si8j_184",Ue="_deleteButton_1si8j_189",l={taskItem:Ne,slideIn:ge,completed:De,editing:ve,checkbox:Te,checkmark:Ce,taskContent:we,taskText:Ie,taskMeta:Se,dueDate:$e,dueDateOverdue:Le,dueDateToday:Oe,dueDateUpcoming:Be,input:Ee,actions:Re,actionButton:Ae,editButton:Fe,deleteButton:Ue},A=n.memo(({task:e,onToggle:s,onDelete:r,onEdit:c})=>{const[a,o]=n.useState(!1),[u,h]=n.useState(e.text),y=n.useCallback(()=>{s(e.id)},[e.id,s]),f=n.useCallback(()=>{r(e.id)},[e.id,r]),k=n.useCallback(()=>{o(!0),h(e.text)},[e.text]),i=n.useCallback(()=>{const p=u.trim();p&&p!==e.text&&c(e.id,p),o(!1)},[u,e.id,e.text,c]),d=n.useCallback(()=>{o(!1),h(e.text)},[e.text]),m=n.useCallback(p=>{p.key==="Enter"?i():p.key==="Escape"&&d()},[i,d]),x=n.useCallback(p=>new Intl.RelativeTimeFormat("ru",{numeric:"auto"}).format(Math.ceil((p.getTime()-Date.now())/(1e3*60*60*24)),"day"),[]),T=n.useCallback(p=>{const D=new Date,v=new Date(D);v.setDate(v.getDate()+1);const C=p.toDateString()===D.toDateString(),U=p.toDateString()===v.toDateString(),z=p<D&&!C;return C?{text:"Сегодня",className:l.dueDateToday}:U?{text:"Завтра",className:l.dueDateUpcoming}:z?{text:"Просрочено",className:l.dueDateOverdue}:{text:p.toLocaleDateString("ru-RU",{day:"numeric",month:"short"}),className:l.dueDateUpcoming}},[]);return t.jsxs("div",{className:`${l.taskItem} ${e.completed?l.completed:""} ${a?l.editing:""}`,children:[t.jsx("div",{className:`${l.checkbox} ${e.completed?l.completed:""}`,onClick:y,children:t.jsx(W,{size:14,className:l.checkmark})}),t.jsx("div",{className:l.taskContent,children:a?t.jsx("input",{type:"text",value:u,onChange:p=>h(p.target.value),onBlur:i,onKeyDown:m,className:l.input,autoFocus:!0,maxLength:200}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:`${l.taskText} ${e.completed?l.completed:""}`,children:e.text}),t.jsxs("div",{className:l.taskMeta,children:[t.jsxs("span",{children:["Создано ",x(e.createdAt)]}),e.updatedAt.getTime()!==e.createdAt.getTime()&&t.jsxs("span",{children:["Обновлено ",x(e.updatedAt)]}),e.dueDate&&t.jsx("span",{className:`${l.dueDate} ${T(e.dueDate).className}`,children:T(e.dueDate).text})]})]})}),t.jsxs("div",{className:l.actions,children:[t.jsx("button",{onClick:k,className:`${l.actionButton} ${l.editButton}`,title:"Редактировать задачу",children:t.jsx(q,{size:16})}),t.jsx("button",{onClick:f,className:`${l.actionButton} ${l.deleteButton}`,title:"Удалить задачу",children:t.jsx(K,{size:16})})]})]})});A.displayName="TaskItem";const ze="_container_1i52f_1",Me="_fadeInUp_1i52f_1",Pe="_emptyState_1i52f_6",We="_emptyIcon_1i52f_12",qe="_emptyTitle_1i52f_19",Ke="_emptyDescription_1i52f_26",b={container:ze,fadeInUp:Me,emptyState:Pe,emptyIcon:We,emptyTitle:qe,emptyDescription:Ke},Je=e=>{switch(e){case"active":return{title:"Все дела выполнены!",description:"У вас нет активных задач. Время добавить новые или заслуженно отдохнуть."};case"completed":return{title:"Пока нет выполненных задач",description:"Выполните несколько задач, чтобы увидеть их здесь. Каждое путешествие начинается с одного шага."};default:return{title:"Ваш список задач пуст",description:"Добавьте свою первую задачу выше, чтобы начать путь к продуктивности."}}},F=n.memo(({tasks:e,filter:s,onToggleTask:r,onDeleteTask:c,onEditTask:a})=>{if(e.length===0){const{title:o,description:u}=Je(s);return t.jsx("div",{className:b.container,children:t.jsxs("div",{className:b.emptyState,children:[t.jsx(J,{className:b.emptyIcon}),t.jsx("h3",{className:b.emptyTitle,children:o}),t.jsx("p",{className:b.emptyDescription,children:u})]})})}return t.jsx("div",{className:b.container,children:e.map(o=>t.jsx(A,{task:o,onToggle:r,onDelete:c,onEdit:a},o.id))})});F.displayName="TaskList";const I="taskList",He=()=>{const[e,s]=n.useState(()=>{const i=localStorage.getItem(I);if(i)try{const d=JSON.parse(i);return{tasks:d.tasks.map(m=>({...m,createdAt:new Date(m.createdAt),updatedAt:new Date(m.updatedAt)})),filter:d.filter||"all"}}catch{return{tasks:[],filter:"all"}}return{tasks:[],filter:"all"}});n.useEffect(()=>{localStorage.setItem(I,JSON.stringify(e))},[e]);const r=n.useCallback((i,d)=>{const m={id:Date.now().toString(),text:i.trim(),completed:!1,dueDate:d,createdAt:new Date,updatedAt:new Date};s(x=>({...x,tasks:[m,...x.tasks]}))},[]),c=n.useCallback(i=>{s(d=>({...d,tasks:d.tasks.map(m=>m.id===i?{...m,completed:!m.completed,updatedAt:new Date}:m)}))},[]),a=n.useCallback(i=>{s(d=>({...d,tasks:d.tasks.filter(m=>m.id!==i)}))},[]),o=n.useCallback((i,d)=>{s(m=>({...m,tasks:m.tasks.map(x=>x.id===i?{...x,text:d.trim(),updatedAt:new Date}:x)}))},[]),u=n.useCallback(i=>{s(d=>({...d,filter:i}))},[]),h=n.useCallback(()=>{s(i=>({...i,tasks:i.tasks.filter(d=>!d.completed)}))},[]),y=n.useMemo(()=>{switch(e.filter){case"active":return e.tasks.filter(i=>!i.completed);case"completed":return e.tasks.filter(i=>i.completed);default:return e.tasks}},[e.tasks,e.filter]),f=n.useMemo(()=>e.tasks.filter(i=>!i.completed).length,[e.tasks]),k=n.useMemo(()=>e.tasks.filter(i=>i.completed).length,[e.tasks]);return{tasks:y,filter:e.filter,activeCount:f,completedCount:k,totalCount:e.tasks.length,addTask:r,toggleTask:c,deleteTask:a,editTask:o,setFilter:u,clearCompleted:h}},Ye="_app_1qkba_1",Ge="_gradientShift_1qkba_1",Qe="_container_1qkba_10",S={app:Ye,gradientShift:Ge,container:Qe};function Ve(){const{tasks:e,filter:s,activeCount:r,completedCount:c,totalCount:a,addTask:o,toggleTask:u,deleteTask:h,editTask:y,setFilter:f,clearCompleted:k}=He();return t.jsx("div",{className:S.app,children:t.jsxs("div",{className:S.container,children:[t.jsx(B,{activeCount:r,completedCount:c,totalCount:a}),t.jsx(E,{onAddTask:o}),t.jsx(R,{currentFilter:s,onFilterChange:f,onClearCompleted:k,completedCount:c}),t.jsx(F,{tasks:e,filter:s,onToggleTask:u,onDeleteTask:h,onEditTask:y})]})})}O(document.getElementById("root")).render(t.jsx(n.StrictMode,{children:t.jsx(Ve,{})}));
